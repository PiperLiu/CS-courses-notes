# LEC 1: Introductions

课堂实录可参考 [肖宏辉大佬的MIT6.824分布式系统课程中文翻译](https://www.zhihu.com/column/c_1273718607160393728) 的笔记。

<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [预习内容](#预习内容)
- [WHY HARD 要克服什么挑战，面临什么取舍](#why-hard-要克服什么挑战面临什么取舍)

<!-- /code_chunk_output -->

## 预习内容

1. GFS 概述
- GFS是Google设计的用于大规模分布式数据密集型应用的可扩展分布式文件系统。它在廉价的商用硬件上运行，提供容错能力，并为大量客户端提供高聚合性能。

2. GFS 的关键特性
- **容错能力**：GFS在设计时就考虑到了组件故障的常态，通过持续监控、数据复制和自动恢复来实现系统的容错。
- **大文件优化**：GFS针对的是大型文件，这些文件通常是通过追加操作而不是随机写入来修改的。
- **简化的一致性模型**：GFS放宽了一致性模型，简化了文件系统的设计，同时也减轻了应用层面的负担。
- **原子记录追加**：GFS提供了原子记录追加操作，允许多个客户端无需额外同步即可并发追加到同一个文件。
- **快照功能**：GFS支持快照操作，可以低成本地创建文件或目录树的副本。

3. GFS 架构
- **主从架构**：GFS集群由单个主服务器（master）和多个块服务器（chunkserver）组成，客户端通过主服务器访问数据。
- **数据分块**：文件被分割成固定大小的数据块（chunks），每个块在多个块服务器上存储以实现冗余。
- **元数据管理**：主服务器维护所有文件系统元数据，包括命名空间、访问控制信息、文件到块的映射以及块的当前位置。

4. GFS 的性能和可靠性
- **高聚合吞吐量**：通过分离文件系统控制和数据传输，GFS能够为大量并发读写操作提供高聚合吞吐量。
- **在线修复机制**：GFS定期在线修复损坏，并补偿丢失的副本，以维持数据的完整性。

5. GFS 的局限性和权衡
- **简化的一致性模型**：GFS的一致性模型被简化，以换取性能和设计的简单性，这可能不适合所有类型的应用。
- **单主服务器的瓶颈**：GFS使用单个主服务器，虽然简化了设计，但随着系统的扩展，可能会成为性能瓶颈。

6. GFS 的替代方案
- **Colossus**：据传GFS已被Colossus取代，Colossus在保持相同目标的同时，对主服务器性能和容错能力进行了改进。

## WHY HARD 要克服什么挑战，面临什么取舍

面临性能与一致性的权衡，这里教授的逻辑链很巧：
```
希望有 Performance -> 因此需要数据分片到多台机器并行处理 Sharding
成百机器并行处理，总会有 Faults -> 因此我们需要容错 Tolerance
若想实现容错 Tolerance -> 一种方法是数据冗余 Replication
若有数据冗余 REPL -> 可能会带来数据不一致的问题 Inconsistency
若想实现一致性 Consistency -> 则导致了 Low Performance
```
